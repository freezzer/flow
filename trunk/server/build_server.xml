<?xml version="1.0" encoding="UTF-8"?>
<project name="server" default="make">

    <property name="deploy.dir" value="webapp\WEB-INF\classes"/>


     <target name="clean" >
         <delete dir="${deploy.dir}" />
         <mkdir dir="${deploy.dir}" />
     </target>


     <target name="compile" description="compiles the java sources">
        <delete dir="classes" failonerror="false"/>
        <mkdir dir="classes"/>
        <javac destdir="classes" debug="on">
            <src path="src"/>
            <classpath>
                <fileset dir="lib">
                    <include name="**/*.jar"/>
                </fileset>
            </classpath>
        </javac>
     </target>

    <target name="deploy" description="deploy to tomcat" depends="compile">
        <copy overwrite="true" todir="${deploy.dir}">
            <fileset dir="classes">
                <include name="**/**"/>
            </fileset>
        </copy>
        <copy overwrite="false" todir="${deploy.dir}\..\lib">
            <fileset dir="libs">
                <include name="**/*.jar"/>
            </fileset>
        </copy>
    </target>

    <target name="make" depends="compile,deploy"/>

</project>
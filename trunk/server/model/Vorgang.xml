<?xml version="1.0"?>
<define>

    <model java_dir="server/src/generated/bom" java_package="generated.bom"
           flex_dir="flex/src/generated/bom" flex_package="generated.bom">
        <bean name="Vorgang" persistent="true" unique-key="id" editor="VorgangEditor">
            <field name="nummer"/>
            <field name="id"/>
            <field name="typ"/>
            <collection name="transitions" create="3">
                <bean name="Transition">
                    <field name="name"/>
                    <field name="dir"/>
                    <bean name="Workmodel" create="1">
                        <bean name="Kopf">
                            <field name="mrn"/>
                            <field name="zollstelle"/>
                            <field name="erstellt" type="date"/>
                            <field name="angemeldet" type="Date"/>
                        </bean>
                        <bean name="Geschaeft">
                            <field name="art"/>
                            <field name="betrag"/>
                            <field name="waehrung"/>
                        </bean>
                        <field name="zollstelle_ausfuhr"/>
                        <field name="zollstelle_eam"/>
                        <field name="zollstelle_ausgang"/>
                        <collection name="positionen" create="5" type="Position">
                            <bean name="Position">
                                <field name="nummer"/>
                                <field name="warennummer"/>
                                <field name="roh_gewicht" type="Number"/>
                                <field name="netto_gewicht" type="number"/>
                                <collection name="verschluesse" create="1" type="Verschluss">
                                    <bean name="Verschluss">
                                        <field name="nummer"/>
                                        <field name="zeichen"/>
                                    </bean>
                                </collection>
                                <collection name="packstuecke" create="2">
                                    <bean name="Packstueck">
                                        <field name="nummer"/>
                                        <field name="art"/>
                                        <field name="anzahl"/>
                                    </bean>
                                </collection>
                                <collection name="unterlagen" create="3">
                                    <bean name="Unterlage">
                                        <field name="nummer"/>
                                        <field name="art"/>
                                        <field name="bezeichnung"/>
                                        <field name="begin"/>
                                        <field name="ende"/>
                                    </bean>
                                </collection>
                            </bean>
                        </collection>
                    </bean>
                </bean>
            </collection>
        </bean>
    </model>

    <view flex_dir="flex/src/generated/view" flex_package="generated.view" model="Vorgang">

        <editor name="VorgangEditor">
            <tree_node label="Vorgang" icon="lorry">
                <tree_node label="Transition" path="transitions" icon="arrow.right">
                    <tree_node label="Kopf" path="workmodel.kopf" panel="KopfPanel" icon="edit"/>
                    <tree_node label="Positionen" path="workmodel.positionen" listView="true" panel="PosListPanel" icon="table" create="true" >
                        <tree_node label="Position" path="workmodel.positionen" panel="PositionPanel" icon="edit" delete="true" copy="true">
                            <tree_node label="Verschluss" path="verschluesse" panel="VerschlussPanel" icon="lock" delete="true" copy="true"/>
                            <tree_node label="Packstueck" path="packstuecke" panel="PackStueckPanel" icon="pack" delete="true" copy="true"/>
                            <tree_node label="Unterlagen" path="unterlagen" panel="UnterlageListPanel" icon="table"  listView="true"  create="true" >
                                <tree_node label="Unterlage" path="unterlagen" panel="UnterlagePanel" icon="dock" delete="true" copy="true"/>
                            </tree_node>
                        </tree_node>
                    </tree_node>
                </tree_node>
            </tree_node>
        </editor>

    </view>

</define>





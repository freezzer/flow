<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"
           xmlns:frames="de.ama.framework.gui.frames.*"
           initialize="init()" >


    <mx:Script><![CDATA[
        import de.ama.framework.command.Command;
        import de.ama.framework.command.MenuInvoker;
        import de.ama.services.BootstrapDefault;
        import de.ama.services.Factory;
        import de.ama.framework.util.Util;


        import mx.controls.Menu;
        import mx.controls.MenuBar;
        import mx.controls.menuClasses.MenuBarItem;
        import mx.core.Container;
        import mx.events.MenuEvent;

        private var mainTabs:AdvanceTabNavigator = null;

        protected function executeGeneratedBootstrap():void {
        }

        public function init():void {

            //mainMenuBar = new MenuBar();
            //mainMenuBar.addChild(new MenuBarItem())

            mainTabs = new AdvanceTabNavigator();
            mainTabs.setStyle("width", "100%");
            mainTabs.tabCloseEnable = true;
            mainTabs.tabDragEnable = true;
            mainTabs.setStyle("top", "30");
            mainTabs.setStyle("bottom", "0");
            mainTabs.setStyle("left", "3");
            mainTabs.setStyle("right", "3");
            //            mainTabs.setStyle("backgroundColor", "#F0F0F0");
            addChild(mainTabs);

            var bootstrapDefault:BootstrapDefault = new BootstrapDefault();
            bootstrapDefault.execute();

            executeGeneratedBootstrap();
        }

        public function addMenu(label:String):void {
            var menu:Menu = new Menu();
            menu.labelField
        }

        public function addContent(child:Container):void {
            mainTabs.addChild(child);
            mainTabs.selectedChild = child;
        }


        protected function handleMenuClick(evt:MenuEvent):void {
            var mitem:XML = XML(evt.item);
            var command:String = mitem.attribute("command")[0];
            var lister:String = mitem.attribute("lister")[0];
            var editor:String = mitem.attribute("editor")[0];
            var label:String = mitem.attribute("label")[0];

            var cmd:Command = Factory.createCommand(command);
            cmd.setProperty("command", command);
            cmd.setProperty("lister", lister);
            cmd.setProperty("editor", editor);
            cmd.setProperty("label", label);

            var invoker:MenuInvoker;
            cmd.start(new MenuInvoker());
        }


        ]]></mx:Script>

</mx:Canvas>

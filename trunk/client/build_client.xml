<?xml version="1.0" encoding="UTF-8"?>
<project name="client" default="all">
  
     <property name="FLEX_HOME" value="D:\dev\adobe\flex_sdk_3"/>
     <property name="deploy.dir" value="D:\dev\flow\war\client"/>
     <property name="cfg.dir" value="D:\dev\flow\server\conf"/>

     <taskdef resource="flexTasks.tasks" classpath="${FLEX_HOME}/ant/lib/flexTasks.jar"/>

     <target name="all" depends="clean, compile_swf, wrapper" />

     <target name="clean" >
         <delete dir="${deploy.dir}" />
         <mkdir dir="${deploy.dir}" />
     </target>

     <target name="compile_swf" description="compiles the flex sources" >
         <delete file="${deploy.dir}/client.swf"/>
         <mxmlc file="src/client.mxml"
                output="${deploy.dir}/client.swf"
                services="${cfg.dir}/services-config.xml"
                 debug="true">
         </mxmlc>
     </target>

     <target name="wrapper" >
         <html-wrapper
                 height="100%"
                 width="100%"
                 template="express-installation"
                 bgcolor="red"
                 history="true"
                 title="Welcome to FLOW"
                 file="client.html"
                 application="flowApp"
                 swf="client"
                 output="${deploy.dir}"/>
     </target>

</project>